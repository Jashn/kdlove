
   <body class="brandweek mag-home">
      <div id="myModal" class="modal fade" role="dialog">
         <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
               <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <!-- <h4 class="modal-title">Home</h4> -->
               </div>
               <div class="modal-body">
                  <p><a href="#">Home</a></p>
                  <h4>Guest List</h4>
                  <div class="clearfix"></div>
                  <div class="col-xs-6 col-sm-3 col-md-3 col-lg-3">
                     <h4>EVENTS</h4>
                  </div>
                  <div class="col-xs-6 col-sm-3 col-md-3 col-lg-3"><a href="#" class="add">+ Add Event</a></div>
                  <div class="clearfix"></div>
                  <h4>Wedding(2)</h4>
                  <div class="clearfix"></div>
                  <div class="col-xs-6 col-sm-3 col-md-3 col-lg-3">
                     <h4>GUESTS</h4>
                  </div>
                  <div class="col-xs-6 col-sm-3 col-md-3 col-lg-3"><a href="#" class="add">+ Add Event</a></div>
                  <div class="clearfix"></div>
                  <h4>All Guests(2)</h4>
                  <div class="space"></div>
                  <h4>All Household(1)</h4>
                  <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 col-xs-offset-3 col-sm-offset-3 col-md-offset-3 col-lg-offset-3 text-center"><a href="#" class="collect">Collect Guest Contact Info</a></div>
                  <div class="clearfix"></div>
                  <p><strong>Tip:</strong> Save green and go green by skipping response cards and having guests RSVP on your wedding website instead. They'll love the convenience of being able to RSVP, browse your registries and view your wedding day details anywhere, anytime.</p>
               </div>
               <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
               </div>
            </div>
         </div>
      </div>
      <div id="myModal1" class="modal fade" role="dialog">
         <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
               <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h4 class="modal-title">Event Summary</h4>
               </div>
               <div class="modal-body">
                  <h4>Basic Info</h4>
                  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                     <div class="form-group">
                        <label for="pwd">Password:</label>
                        <input type="password" class="form-control" id="pwd">
                     </div>
                  </div>
                  <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
                     <div class="form-group">
                        <div class="input-group date form_date" data-date="" data-date-format="dd MM yyyy" data-link-field="dtp_input2" data-link-format="yyyy-mm-dd">
                           <input class="form-control" size="16" type="text" value="" >
                           <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                        </div>
                        <input type="hidden" id="dtp_input2" value="" /><br/>
                     </div>
                  </div>
                  <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
                     <select class="form-control" id="sel1">
                        <option>Time</option>
                        <option>12:30 pm</option>
                        <option>14:00 pm</option>
                        <option>16:00 pm</option>
                     </select>
                  </div>
                  <div class="clearfix"></div>
                  <div class="col-xs-6 col-sm-3 col-md-3 col-lg-3 text-center">
                     <p>Total Guests<br> 2</p>
                  </div>
                  <div class="col-xs-6 col-sm-3 col-md-3 col-lg-3 text-center">
                     <p>Accepted<br> 0</p>
                  </div>
                  <div class="col-xs-6 col-sm-3 col-md-3 col-lg-3 text-center">
                     <p>Declined<br> 0</p>
                  </div>
                  <div class="col-xs-6 col-sm-3 col-md-3 col-lg-3 text-center">
                     <p>No Response<br> 2</p>
                  </div>
                  <div class="clearfix"></div>
                  <h4>Basic Info</h4>
                  <span class="pull-left">Allow Guests to RSVP</span>
                  <span class="pull-right">
                     <div class="btn-group btn-toggle" style="margin-top:5px;"> 
                        <button class="btn btn-lg btn-default">No</button>
                        <button class="btn btn-lg btn-primary active">Yes</button>
                     </div>
                  </span>
                  <div class="clearfix"></div>
                  <h4>Location (Optional)</h4>
                  <div class="form-group">
                     <label for="usr">Ceremony</label>
                     <input type="text" class="form-control" id="usr">
                  </div>
                  <div class="form-group">        
                     <input type="password" class="form-control" id="pwd">
                  </div>
                  <span class="pull-left">Reception</span>
                  <span class="pull-right">
                     <div class="checkbox" style="margin:0px;">
                        <label style="font-size: 1em; line-height: 35px;">
                        <input type="checkbox" value="" checked="">
                        <span class="cr"><i class="cr-icon fa fa-check"></i></span>
                        Same as Ceremony
                        </label>
                     </div>
                  </span>
                  <div class="clearfix"></div>
                  <div class="form-group" style="margin-top:15px;">
                     <input type="text" class="form-control" id="usr">
                  </div>
                  <div class="form-group">        
                     <input type="password" class="form-control" id="pwd">
                  </div>
                  <div class="clearfix"></div>
                  <h4>Meal Choices (Optional)</h4>
                  <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                     <div class="form-group">
                     <label for="usr">Meal Name</label>
                     <input type="text" class="form-control" id="usr">
                  </div>
                  </div>
                  <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                     <div class="form-group">
                     <label for="usr">Meal Count</label>
                     <input type="text" class="form-control" id="usr">
                  </div>
                  </div>
                  <p>&nbsp;</p>
                  <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1"><p><a href="#"><i class="fa fa-remove"></i></a></p></div>
                  <div class="clearfix"></div>
                  <h4><a href="#">Add New Meal</a></h4>
                  <div class="clearfix"></div>
                  <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4 text-center bttn6 col-sm-offset-2 col-md-offset-2 col-lg-offset-2"><a href="#">Cancel</a></div>
                  <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4 text-center bttn6"><a href="#">Save</a></div>
                  <div class="clearfix"></div>
               </div>
               <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
               </div>
            </div>
         </div>
      </div>
       <div id="myModal2" class="modal fade" role="dialog">
         <div class="modal-dialog" style="width:100%;">
            <!-- Modal content-->
            <div class="modal-content" >
               <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <!-- <h4 class="modal-title">Add Guest</h4> -->
               </div>
               <div class="modal-body">
                  <h4>Simply copy and paste information into our spreadsheet and we’ll handle the rest.</h4>
                  <hr>
                  <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                     <p><b>Step 1:</b> Make sure your spreadsheet’s fields match ours.</p>
                  </div>
                 <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                     <p><b>Step 2:</b> Select and copy multiple cells and columns from your spreadsheet.</p>
                  </div>
                  <hr>
                  <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                     <p><b>Step 3:</b> Paste your information into our spreadsheet. Don't worry, we'll add new rows automatically if you paste more than 100 guests.</p>
                  </div>
                 <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                     <p><b>Tips :</b> Guests with the same address can easily be grouped and viewed as households later.</p>
                  </div>
                  <hr>
                  <div class="clearfix"></div>
                  <hr>
                  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-responsive">

                  <?php echo form_open('home/planning/import_guestList  ',array(
                  'class' => 'form-horizontal'
                  )); ?>
                  <table class="import" width="100%" border="0" cellspacing="0" cellpadding="0">
                    <tr>
                      <th scope="col">&nbsp;</th>
                      <th scope="col">First Name</th>
                      <th scope="col">Last Name</th>
                      <th scope="col">Phone</th>
                      <th scope="col">Email</th>
                      <th scope="col">Address</th>
                    </tr>
                    <tr>
                      <th scope="row">1</th>
                      <td> <input type="text"  class="form-control" name="first_name[]" placeholder="First Name"/>&nbsp;</td>
                      <td><input type="text"  class="form-control" name="last_name[]" placeholder="Last Name"/>&nbsp;</td>
                      <td><input type="text"  class="form-control" name="phone[]" placeholder="Phone"/>&nbsp;</td>
                      <td><input type="text"  class="form-control" name="email[]" placeholder="Email"/>&nbsp;</td>
                      <td><input type="text"  class="form-control" name="address[]" placeholder="Address"/>&nbsp;</td>
                    </tr>
                    <tr>
                      <th scope="row">2</th>
                     <td> <input type="text"  class="form-control" name="first_name[]" placeholder="First Name"/>&nbsp;</td>
                      <td><input type="text"  class="form-control" name="last_name[]" placeholder="Last Name"/>&nbsp;</td>
                      <td><input type="text"  class="form-control" name="phone[]" placeholder="Phone"/>&nbsp;</td>
                      <td><input type="text"  class="form-control" name="email[]" placeholder="Email"/>&nbsp;</td>
                      <td><input type="text"  class="form-control" name="address[]" placeholder="Address"/>&nbsp;</td>
                    </tr>
                    <tr>
                      <th scope="row">3</th>
                      <td> <input type="text"  class="form-control" name="first_name[]" placeholder="First Name"/>&nbsp;</td>
                      <td><input type="text"  class="form-control" name="last_name[]" placeholder="Last Name"/>&nbsp;</td>
                      <td><input type="text"  class="form-control" name="phone[]" placeholder="Phone"/>&nbsp;</td>
                      <td><input type="text"  class="form-control" name="email[]" placeholder="Email"/>&nbsp;</td>
                      <td><input type="text"  class="form-control" name="address[]" placeholder="Address"/>&nbsp;</td>
                    </tr>
                    <tr>
                      <th scope="row">4</th>
               <td> <input type="text"  class="form-control" name="first_name[]" placeholder="First Name"/>&nbsp;</td>
                      <td><input type="text"  class="form-control" name="last_name[]" placeholder="Last Name"/>&nbsp;</td>
                      <td><input type="text"  class="form-control" name="phone[]" placeholder="First Name"/>&nbsp;</td>
                      <td><input type="text"  class="form-control" name="email[]" placeholder="First Name"/>&nbsp;</td>
                      <td><input type="text"  class="form-control" name="address[]" placeholder="First Name"/>&nbsp;</td>
                    </tr>
                  </table>  
                    <button type="submit" class="btn btn-default" >Import</button>
                  <?php echo form_close();?>
               </div>
                  <div class="clearfix"></div>
               </div>
               <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
               </div>
            </div>
         </div>
      </div>


      <div id="myModal3" class="modal fade" role="dialog">
         <div class="modal-dialog">
            <!-- Modal content-->

            <?php echo form_open_multipart('planning/add_guest',array(
                  'class' => 'form-horizontal',
                  'id'=>'add_guest_submit',
                  'data-parsley-validate'=>''
                  )); ?>
            <div class="modal-content">
               <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h4 class="modal-title">Add Guest</h4>
               </div>
               <div class="modal-body">
                  <h4>Basic Info</h4>  
                  <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                     <div class="form-group">                     
                        <input type="text" required class="form-control" name="first_name" id="first_name" placeholder="First Name">
                     </div>
                  </div>
                 <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                     <div class="form-group">
                        <input type="text" required class="form-control" name="last_name" id="last_name" placeholder="Last Name">
                     </div>
                  </div>
                  <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                     <div class="form-group">
                        <input type="text" class="form-control" required name="role" id="role" placeholder="Role">
                     </div>
                  </div>
                 <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                     <div class="form-group">
                        <input type="text" class="form-control" required name="phone" id="phone" placeholder="Phone">
                     </div>
                  </div>
                  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                     <div class="form-group">
                        <input type="email" class="form-control"  required  data-parsley-trigger="change" id="email" name="email" placeholder="Email">
                     </div>
                  </div>
                   <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                     <div class="form-group">
                        <input type="text" class="form-control" required id="address" name="address" placeholder="Address">
                     </div>
                  </div>
                   <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                     <div class="form-group">
                        <input type="text"    class="form-control" id="note" name="note" placeholder="Notes">
                     </div>
                  </div>
                  <div class="clearfix"></div>
                  <h4>Households & +1s</h4>
                  <div class="clearfix"></div>
                  <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                     <div class="checkbox" style="margin:0px;">
                        <label style="font-size: 1em; line-height: 35px; padding-left:0px;">
                        <input type="checkbox" value="" checked="">
                        <span class="cr"><i class="cr-icon fa fa-check"></i></span>
                        Allow this guest to bring a +1
                        </label>
                     </div>
                     <p>This guest's +1 will be added to all of this guest's events upon save.</p>
                  </div>
                   <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                     <select class="form-control" id="sel1">
                      <option>Select a new Household</option>
                      <option value="Akash kumar">Akash Kumar</option>
                      
                    </select>
                  </div>
                  <div class="clearfix"></div>
                  <h4>Events & RSVPs</h4>
                  <p>The guest is currently in the following event list(s):</p>
                  <h5><span class="pull-left">Wedding</span><span><a href="#" class="pull-right">remove</a></span></h5>
                  <div class="clearfix"></div>
                  <div class="space"></div>
                  <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
                     <div class="checkbox" style="margin:0px;">
                        <label style="font-size: 1em; line-height: 35px; padding-left:0px;">
                        <input type="checkbox" name="invitation_sent" value="1">
                        <span class="cr"><i class="cr-icon fa fa-check"></i></span>
                        Invitation Sent
                        </label>
                     </div>
                  </div>
                  <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
                     <select name="rsvp" class="form-control" id="sel1">
                      <option valu="">RSVP</option>
                      <option value="Accepted">Accepted</option>
                      <option value="Decline">Declined</option>
                    </select>
                  </div>
                  <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
                     <p>Meal Options Have Not Been Set For This Event.</p>
                  </div>
                   <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                      <div class="checkbox" style="margin:0px;">
                        <label style="font-size: 1em; line-height: 35px; padding-left:0px;">
                        <input type="checkbox" name="thank_sent" value="1" >
                        <span class="cr"><i class="cr-icon fa fa-check"></i></span>
                        Thank You Sent
                        </label>
                     </div>
                   </div>
                   <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                     <input type="text" class="form-control" placeholder="Gift">
                   </div>
                   <div class="clearfix"></div>
                    <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4 text-center bttn6 col-sm-offset-2 col-md-offset-2 col-lg-offset-2"><a href="#">Cancel</a></div>
                  <button type="submit" class="btn btn-default">Save</button>
               </div>
               <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
               </div>
            </div>
            <?php echo form_close();?>


         </div>
      </div>

            
      <div data-pjax-container>
         <div class="home">
          
            <div id="ewSiteNav" class="hidden-lg hidden-md" data-ng-controller="siteNavigationCtrl as vm">
               <aside id="sidebar" data-ng-class="{ 'toggled': vm.sidebarToggle.left === true }">
                  <div id="ew-sidebar-mobile-nav" class="sidebar-inner c-overflow">
                     <div class="profile-menu" data-ng-show="vm.isLoggedIn">
                        <a toggle-submenu>
                           <div class="profile-pic">
                              <img src="images/placeholder-profile-40x40.png"alt="My Account" />
                              <img src="images/placeholder-profile-40x40.png" alt="My Account" />
                           </div>
                           <div class="profile-info">
                              <span data-ng-bind="vm.UserProfileExtended.FirstName"></span>
                              <i class="zmdi zmdi-caret-down"></i>
                           </div>
                        </a>
                        <ul class="main-menu">
                           <li>
                              <a href="#"><i class="zmdi zmdi-view-dashboard"></i> Dashboard</a>
                           </li>
                           <li>
                              <a href="#"><i class="zmdi zmdi-account"></i> View Profile</a>
                           </li>
                           <li>
                              <a href="#"><i class="zmdi zmdi-settings"></i> Settings</a>
                           </li>
                           <li>
                              <a href="#"><i class="zmdi zmdi-time-restore"></i> Logout</a>
                           </li>
                        </ul>
                     </div>
                     <style>
                        /* Override the default background image using the bride API once completed. */
                        #sidebar .profile-menu > a {
                        background: url(%7b%7b%20vm.bridecoverimage%20%7d%7d/index.html);
                        }
                     </style>
                     <div class="profile-menu not-logged-in" data-ng-hide="vm.isLoggedIn">
                        <a href="#">
                           <div class="profile-pic">
                              <img src="images/placeholder-profile-40x40.png" alt="My Account" />
                              <!--<span class="profile-info-logged-out">Sign In</span>-->
                           </div>
                           <div class="profile-info">
                              <span>Sign In / Register</span>
                              <!-- <i class="zmdi zmdi-caret-down"></i> -->
                           </div>
                        </a>
                     </div>
                     <ul class="main-menu" style="margin-bottom: 250px">
                        <li class="sub-menu">
                           <a href="#" toggle-submenu><i class="fa fa-check-square-o"></i>&nbsp; Planning Tools</a>
                           <ul>
                              <li><a href="#" close-submenu><i class="zmdi zmdi-chevron-left"></i> BACK</a></li>
                              <li class="divider">Planning Tools</li>
                              <li><a href="#"> Wedding Website</a></li>
                              <li><a href="#"> Budget Calculator</a></li>
                              <li><a href="#"> Checklist</a></li>
                              <li><a href="#">Vendor Manager</a></li>
                              <li><a href="#">Wedding Date Planner</a></li>
                              <li><a href="#">Guest List</a></li>
                              <li><a href="#">Hotel Planner</a></li>
                              <li><a href="#">Seating Planner</a></li>
                           </ul>
                        </li>
                        <li class="sub-menu">
                           <a href="#" toggle-submenu><i class="fa fa-user"></i>&nbsp; Vendor</a>
                           <ul>
                              <li><a href="#" close-submenu><i class="zmdi zmdi-chevron-left"></i> BACK</a></li>
                              <li class="divider">Fashion</li>
                              <li><a href="#">Accessories</a></li>
                              <li><a href="#">Beauty Services</a></li>
                              <li><a href="#">Bridesmaid Dresses</a></li>
                              <li><a href="#">Dress Designers</a></li>
                              <li><a href="#">Flower Girls</a></li>
                              <li><a href="#">Formal Wear</a></li>
                              <li><a href="#">Hair and Makeup</a></li>
                              <li><a href="#">Jewellery</a></li>
                              <li><a href="#">Wedding Dresses</a></li>
                              <li><a href="#">Wedding Lingerie</a></li>
                              <li><a href="#">Wedding Shoes</a></li>
                              <li class="divider">Reception</li>
                              <li><a href="#">Cakes</a></li>
                              <li><a href="#">Caterers</a></li>
                              <li><a href="#">Decorations</a></li>
                              <li><a href="#">Ceremony & Reception Venues</a></li>
                              <li class="divider">Accommodation</li>
                              <li><a href="#">Guest Accommodation</a></li>
                              <li><a href="#">Travel and Vacation</a></li>
                              <li><a href="#">Honeymoons</a></li>
                              <li><a href="#">Honeymoon Packages</a></li>
                              <li class="divider">Reviews</li>
                              <li><a href="#">All reviews</a></li>
                              <li><a href="#">Submit your reviews</a></li>
                              <li class="divider">Services</li>
                              <li><a href="#">Flowers</a></li>
                              <li><a href="#">Invitations</a></li>
                              <li><a href="#">DJs</a></li>
                              <li><a href="#">Musical Bands</a></li>
                              <li><a href="#">Comedian / MC </a></li>
                              <li><a href="#">Photography</a></li>
                              <li><a href="#">Planners</a></li>
                              <li><a href="#">Unique Services</a></li>
                              <li><a href="#">Stylists</a></li>
                              <li><a href="#">Make-up Artist</a></li>
                              <li><a href="#">Transport & Cars</a></li>
                              <li><a href="#">Videography</a></li>
                           </ul>
                        </li>
                        <li class="sub-menu">
                           <a href="#" toggle-submenu><i class="fa fa-address-book-o"></i>&nbsp; Magazine</a>
                           <ul>
                              <li><a href="#" close-submenu><i class="zmdi zmdi-chevron-left"></i> BACK</a></li>
                              <li class="divider">Real Wedding</li>
                              <li><a href="#">Real Weddings</a></li>
                              <li><a href="#">Love Stories</a></li>
                              <li><a href="#">Submit Your Wedding/Love Stories</a></li>
                              <li class="divider">Reception</li>
                              <li><a href="#">Wedding Dresses</a></li>
                              <li><a href="#">Honeymoon</a></li>
                              <li><a href="#">Bridesmaids</a></li>
                              <li><a href="#">Cakes</a></li>
                              <li><a href="#">Cars</a></li>
                              <li><a href="#">Caterers</a></li>
                              <li><a href="#">Decorations</a></li>
                              <li><a href="#">Flower Girls</a></li>
                              <li><a href="#">Flowers</a></li>
                              <li><a href="#">Hair</a></li>
                              <li><a href="#">Planning</a></li>
                              <li><a href="#">Invitations </a></li>
                              <li><a href="#">Makeup</a></li>
                              <li><a href="#">Photography</a></li>
                              <li><a href="#">Shoes</a></li>
                              <li><a href="#">Venues</a></li>
                              <li><a href="#">Others</a></li>
                              <li><a href="#">General</a></li>
                              <li class="divider">Photo Filter</li>
                              <li><a href="#">Popular Photos</a></li>
                              <li>
                                 <a href="#">
                                    <div class ="ronad red"></div>
                                    Red
                                 </a>
                              </li>
                              <li>
                                 <a href="#">
                                    <div class ="ronad black"></div>
                                    Black
                                 </a>
                              </li>
                              <li>
                                 <a href="#">
                                    <div class ="ronad sky"></div>
                                    Blue
                                 </a>
                              </li>
                              <li>
                                 <a href="#">
                                    <div class ="ronad green"></div>
                                    Green
                                 </a>
                              </li>
                              <li>
                                 <a href="#">
                                    <div class ="ronad yellow"></div>
                                    Yellow
                                 </a>
                              </li>
                              <li>
                                 <a href="#">
                                    <div class ="ronad orange"></div>
                                    Orange
                                 </a>
                              </li>
                              <li>
                                 <a href="#">
                                    <div class ="ronad bringle"></div>
                                    Light Purple
                                 </a>
                              </li>
                           </ul>
                        </li>
                        <li class="sub-menu">
                           <a href="#" toggle-submenu><i class="fa fa-gift"></i>&nbsp;Gift Registry</a>
                           <ul>
                              <li><a href="#" close-submenu><i class="zmdi zmdi-chevron-left"></i> BACK</a></li>
                              <li class="divider"><i class="directory ew-icon-marriage-celebrant"></i>Categories</li>
                              <li><a href="#">Bed & Bath </a></li>
                              <li><a href="#">Cash and Honeymoon Funds</a></li>
                              <li><a href="#">Charity </a></li>
                              <li><a href="#">Electronics </a></li>
                              <li><a href="#">Entertaining </a></li>
                              <li><a href="#">Fitness and Leisure</a></li>
                              <li><a href="#">Furniture </a></li>
                              <li><a href="#">Home Appliances </a></li>
                              <li><a href="#">Home Decor </a></li>
                              <li><a href="#">Kitchen </a></li>
                              <li><a href="#">Outdoor </a></li>
                              <li><a href="#">Travel </a></li>
                              <li class="divider"><i class="directory ew-icon-ideas"></i> Choose Gifts by</li>
                              <li><a href="#">Category </a></li>
                              <li><a href="#">Store </a></li>
                              <li><a href="#">Brand</a></li>
                              <!--<li><a href="/photos/search/" onclick="ga('send', 'event', 'ew-mobile-nav', 'wedding-shop', 'search')">Search</a></li>-->
                              <li class="divider"><i class="directory ew-icon-ideas"></i> Gift Registry</li>
                              <li><a href="#">Find a couple's registry </a></li>
                              <li><a href="#">Create a registry </a></li>
                              <li><a href="#">FAQs</a></li>
                           </ul>
                        </li>
                        <li class="sub-menu">
                           <a href="#" toggle-submenu><i class="fa fa-user"></i>&nbsp; KDSHOP</a>
                           <ul>
                              <li><a href="#" close-submenu><i class="zmdi zmdi-chevron-left"></i> BACK</a></li>
                              <li class="divider">KDSHOP</li>
                              <li><a href="#">Women's Fashion</a></li>
                              <li><a href="#"> Men's Fashion </a></li>
                              <li><a href="#"> Babies, Kids & Toy</a></li>
                              <li><a href="#">Jewelry & Watches  </a></li>
                              <li><a href="#">Health & Beauty</a></li>
                              <li><a href="#">Home & Kitchen</a></li>
                              <li><a href="#">Electronics </a></li>
                              <li><a href="#">Other Categories </a></li>
                           </ul>
                        </li>
                        <li class="sub-menu">
                           <a href="#" toggle-submenu><i class="fa fa-edit"></i>&nbsp; Forum</a>
                           <ul>
                              <li><a href="#" close-submenu><i class="zmdi zmdi-chevron-left"></i> BACK</a></li>
                              <li class="divider"><i class="directory fa fa-plane"></i> Forum</li>
                              <li><a href="#">Wedding & marriage </a></li>
                              <li><a href="#"> Sex & sexual health</a></li>
                              <li><a href="#"> Pregnancy & parenting</a></li>
                              <li><a href="#">Dating & engage </a></li>
                              <li><a href="#">Divorce  &  reconcilliation </a></li>
                              <li><a href="#">Traditional rites</a></li>
                              <li><a href="#">Inter-ethnic marriage</a></li>
                              <li><a href="#">General </a></li>
                           </ul>
                        </li>
                     </ul>
                     <br/><br/>
                  </div>
               </aside>
               <div class="navbar navbar-ew-scroll navbar-fixed-top hidden-print " id="ew-scrollnav" role="navigation">
                  <div id="ew-sn-logo-bar">
                     <div class="container">
                        <div class="row">
                           <li class="visible-xs"
                              id="ew-mobile-menu-trigger"
                              data-target="mainmenu"
                              data-toggle-sidebar
                              data-model-left="vm.sidebarToggle.left"
                              data-ng-class="{ 'open': vm.sidebarToggle.left === true }">
                              <div class="line-wrap">
                                 <div class="line top"></div>
                                 <div class="line center"></div>
                                 <div class="line bottom"></div>
                              </div>
                           </li>
                           <div id="ew-mainlogo" class="col-xs-3">
                              <a href="#" onclick="ga('send', 'event', 'ew-top-nav', 'ew-top-nav-bar', {'page': '/'});">
                              <span class="hidden-xs">
                              <img  src="images/logo.png" data-fallback="images/logo.png"  class="logo" />
                              </span>
                              <span class="visible-xs">
                              <img  src="images/logo.png" data-fallback="images/logo.png"  class="logoicon" />
                              </span>
                              </a>
                           </div>
                           <div class="col-sm-4 col-md-3">
                              <div class="ew-search-bar-item pull-right hidden-sm hidden-md hidden-lg">
                                 <a id="flip" data-toggle-sidebar toggle-search-takeover class="ew-search-bar-item-inner">
                                 <i class="fa fa-search fa-lg text-muted"></i>
                                 </a>
                              </div>
                           </div>
                        </div>
                     </div>
                     <div id="panel">
                        <div id="custom-search-input">
                           <div class="input-group col-md-12">
                              <input type="text" class="form-control input-lg" placeholder="Search for suppliers, photos, ideas & more..." />
                              <span class="input-group-btn">
                              <button class="btn btn-info btn-lg" type="button">
                              <i class="fa fa-search"></i>
                              </button>
                              </span>
                           </div>
                        </div>
                     </div>
                  </div>
                  <!-- /#ew-sn-logo-bar -->
                  <!-- /nav -->
                  <div class="clearfix"></div>
               </div>
               <!-- /#ew-scrollnav -->
            </div>
            <div class="layout__container js-blur js-overflow">
               <div class="container-fluid no-pad">
                  <div class="col-xs-12 col-sm-1 col-md-1 col-lg-1 no-pad bar">
                     <a href="#" data-toggle="modal" data-target="#myModal"><i class="fa fa-bars fa-2x" aria-hidden="true"></i></a>
                  </div>
                  <div class="col-xs-12 col-sm-5 col-md-5 col-lg-5 text_guest">
                     <h3><span class="pull-left">Wedding</span><span class="pull-right"><a href="#"><i class="fa fa-bell"></i></a></span></h3>
                  </div>
                  <div class="col-xs-12 col-sm-2 col-md-2 col-lg-2 summary">
                     <a href="#" data-toggle="modal" data-target="#myModal1">
                        <h3>Event Summary</h3>
                     </a>
                  </div>
                  <div class="col-xs-12 col-sm-2 col-md-2 col-lg-2 import">
                     <a href="#" data-toggle="modal" data-target="#myModal2">
                        <h3>Import List</h3>
                     </a>
                  </div>
                  <div class="col-xs-12 col-sm-2 col-md-2 col-lg-2 export">
                     <a href="#">
                        <h3>Export List</h3>
                     </a>
                  </div>
               </div>
               <div class="container-fluid no-pad">
                  <div class="col-xs-12 col-sm-3 col-md-2 col-lg-2">
                     <div id="custom-search-input">
                        <div class="input-group col-md-12">
                           <input type="text" class="  search-query form-control" placeholder="Search" />
                           <span class="input-group-btn">
                           <button class="btn btn-danger" type="button">
                           <i class=" fa fa-search"></i>
                           </button>
                           </span>
                        </div>
                     </div>
                  </div>
                  <div class="col-xs-12 col-sm-3 col-md-2 col-lg-1">
                     <div class="btn-group btn-toggle" style="margin-top:5px;"> 
                        <button class="btn btn-lg btn-default"><i class="fa fa-user"></i></button>
                        <button class="btn btn-lg btn-primary active"><i class="fa fa-group"></i></button>
                     </div>
                  </div>
                  <div class="col-xs-12 col-sm-3 col-md-2 col-lg-2">
                <!--      <div class="form-group" style="margin-top: 5px; margin-bottom: 0px;">
                        <select id="dates-field2" class="multiselect-ui form-control" multiple="multiple">
                           <option value="cheese">Cheese</option>
                           <option value="tomatoes">Tomatoes</option>
                           <option value="mozarella">Mozzarella</option>
                           <option value="mushrooms">Mushrooms</option>
                           <option value="pepperoni">Pepperoni</option>
                           <option value="onions">Onions</option>
                        </select>
                     </div> -->
                  </div>
                  <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3 pull-right add text-center"><a href="#" data-toggle="modal" data-target="#myModal3"><i class="fa fa-plus-circle" aria-hidden="true"></i> Add Guest</a></div>
               </div>
               <div class="container-fluid no-pad table-responsive">
                  <table width="100%"  id="dataTables-example" class="details" border="0" cellspacing="0" cellpadding="0">
                     <tr>
                        <th scope="col">NAME <i class="fa fa-exchange" aria-hidden="true" style="transform:rotate(90deg);"></i></th>
                        <th scope="col">CONTACT</th>
                        <th scope="col">INVITE SENT</th>
                        <th scope="col" style="width:15%">RSVP</th>
                        <th scope="col">MEAL</th>
                        <th scope="col">GIFT</th>
                        <th scope="col">THANK YOU SENT</th>
                        <th scope="col">NOTES</th>
                     </tr>

                      <?php foreach($guestlist as $guest){?>  
                     <tr>
                        <td>
                           <span class="pull-left"><a href="#"  data-toggle="modal" id="<?php echo $guest['id'];?>" data-target="#myModal3"><?php echo $guest['first_name']." ".$guest['last_name'];?></a></span>
                           <span class="pull-right">
                              <select class="form-control" id="sel1">
                                 <option>....</option>
                                 <option>Delete Guest</option>
                                 <option>Remove from Household</option>
                              </select>
                           </span>
                        </td>
                        <td><button class="pull-let"><i class="fa fa-home"></i></button> <button class="pull-let"><i class="fa fa-phone"></i></button> <button class="pull-let"><i class="fa fa-envelope"></i></button></td>
                        <td>
                           <div class="checkbox">
                              <label style="font-size: 1em; line-height: 35px;">
                                 <?php if($guest['invitation_sent']=='1'){?>
                              <input type="checkbox" invite="<?php echo $guest['id']; ?>" class="invite_sent" value="0" checked="">
                              <?php }else{?>
                              <input type="checkbox" invite="<?php echo $guest['id']; ?>" class="invite_sent" value="1">
                              <?php }?>
                              <span class="cr"><i class="cr-icon fa fa-check"></i></span>
                              </label>
                           </div>
                        </td>
                        <td>
                           <select name="rsvp1" class="form-group">
                              <?php
                              $selected = $guest['rsvp'];
                              if($selected=='Accepted'){
                                 $select = '';
                              }else{
                                 $select = 'selected';
                              }
                              ?>
                              <option <?php echo $select;?> rsvp-custom="<?php echo $guest['id']; ?>" value="Accepted">Accepted</option>
                              <option <?php echo $select;?> rsvp-custom="<?php echo $guest['id']; ?>" value="Declined">Declined</option>
                           </select>
                        </td>
                        <td><input type="text"></td>
                        <td><input type="text" value="<?php echo $guest['gift'];?>"></td>
                        <td>
                           <div class="checkbox">
                              <label style="font-size: 1em; line-height: 35px;">
                                 <?php if($guest['thank_sent']=='1'){?>
                              <input type="checkbox" thanks="<?php echo $guest['id']; ?>" class="thanks_sent" value="0" checked="">
                              <?php }else{?>
                               <input type="checkbox" thanks="<?php echo $guest['id']; ?>" class="thanks_sent" value="1">
                              <?php }?>
                              <span class="cr"><i class="cr-icon fa fa-check"></i></span>
                              </label>
                           </div>
                        </td>
                        <td><input name="note" id="note" value="<?php echo $guest['note'];?>"  note-custom ="<?php echo $guest['id'];?>"  type="text"></td>
                     </tr>
                     <?php }?>
                  </table>
               </div>
            </div>
          
         </div>
         <div class="bottom-bar bottom-bar--anonymous js-bottom-bar js-bottom-bar-anonymous js-blur">
            <div class="bottom-bar__top-header text-right"> <a href="#" class="js-close button button--reset color-white">X</a> </div>
            <ul class="bottom-bar__nav">
               <li class="bottom-bar__item js-offcanvas-section">
                  <a href="#"> <span class="bottom-bar__ellipsis js-offcanvas-link"> <span class="icon icon_home bottom-bar__cat-icon"> </span> <span class="panel-menu__text"> Wedding list & website </span> </span> <span class="icon icon_arrow-down bottom-bar__arrow js-arrow"></span> </a>
                  <ul class="bottom-bar__submenu js-bottom-bar-submenu is__hidden">
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> <span class="icon icon_gift-box"></span>Online wedding list </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> <span class="icon icon_plane"></span><strong>Honeymoon</strong> wedding list </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> <span class="icon icon_international"></span><strong>International</strong> wedding list </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> <span class="icon icon_transfer"></span><strong>Charity</strong> wedding list </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> <span class="icon icon_ecologic"></span><strong>Green</strong> wedding list </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> <span class="icon icon_computer-screen"></span>Wedding website </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> <span class="icon icon_guests"></span>Guest management </span> </a> </li>
                  </ul>
               </li>
               <li class="bottom-bar__item js-offcanvas-section">
                  <a href="#"> <span class="bottom-bar__ellipsis js-offcanvas-link"> <span class="icon icon_magazine bottom-bar__cat-icon"> </span> <span class="panel-menu__text"> Magazine </span> </span> <span class="icon icon_arrow-down bottom-bar__arrow js-arrow"></span> </a>
                  <ul class="bottom-bar__submenu js-bottom-bar-submenu is__hidden">
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> The Bride </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> Your Wedding </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> Inspiration </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> News </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> News </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> Galleries </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> Blogs </span> </a> </li>
                  </ul>
               </li>
               <li class="bottom-bar__item js-offcanvas-section">
                  <a href="#"> <span class="bottom-bar__ellipsis js-offcanvas-link"> <span class="icon icon_directory bottom-bar__cat-icon"> </span> <span class="panel-menu__text"> Vendors </span> </span> <span class="icon icon_arrow-down bottom-bar__arrow js-arrow"></span> </a>
                  <ul class="bottom-bar__submenu js-bottom-bar-submenu is__hidden">
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> <span class="icon icon_cat-location"></span>Wedding Venues </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> <span class="icon icon_cat-catering"></span>Wedding catering </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> <span class="icon icon_cat-media"></span>Wedding photographers </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> <span class="icon icon_cat-flowers"></span>Wedding florists </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> <span class="icon icon_cat-deco"></span>Wedding decor & Tents </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> <span class="icon icon_cat-music"></span>Music and Entertainment </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> <span class="icon icon_cat-transport"></span>Wedding cars & buses </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> <span class="icon icon_cat-jewelry"></span>Wedding rings & jewellery </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> <span class="icon icon_cat-planner"></span>Wedding planners </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> <span class="icon icon_cat-honeymoon"></span>Honeymoons </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> <span class="icon icon_cat-dresses"></span>Bridal Lehenga </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> <span class="icon icon_cat-accesories"></span>Bridal accesories & shoes </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> <span class="icon icon_cat-beauty"></span>Bridal Beauty </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> <span class="icon icon_cat-groom"></span>Weddding Sherwani </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> <span class="icon icon_cat-invitations"></span>Wedding invitations & Stationery </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> <span class="icon icon_cat-services"></span>Other suppliers </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> <span class="icon icon_cat-gifts"></span>Wedding favours & Gifts </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> ZIWA 2017 </span> </a> </li>
                  </ul>
               </li>
               <li class="bottom-bar__item js-offcanvas-section">
                  <a href="#"> <span class="bottom-bar__ellipsis js-offcanvas-link"> <span class="icon icon_zankyou-more bottom-bar__cat-icon"> </span> <span class="panel-menu__text"> About Kdknot </span> </span> <span class="icon icon_arrow-down bottom-bar__arrow js-arrow"></span> </a>
                  <ul class="bottom-bar__submenu js-bottom-bar-submenu is__hidden">
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> About Kdknot </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#"  class="main-menu__link" > <span class="bottom-bar__link"> Contact </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> Rates & Terms of use </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> FAQ </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> Advertise your company </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> Jobs </span> </a> </li>
                     <li class="bottom-bar__subitem"> <a href="#" class="main-menu__link" > <span class="bottom-bar__link"> iPhone and Android app for your wedding </span> </a> </li>
                  </ul>
               </li>
               <li class="bottom-bar__item"> <a href="#"> <span class="icon icon_search bottom-bar__cat-icon"></span> Search for a wedding </a> </li>
               <li class="bottom-bar__item"> <a class="js-flags-button " href="#" > <span class="flag bottom-bar__flags in"></span>India</a> </li>
               <ul class="bottom-bar__social">
                  <li class="bottom-bar__social__item"> <a href="#"  target="_blank"> <span class="icon icon_facebook"></span> </a> </li>
                  <li class="bottom-bar__social__item"> <a href="#" target="_blank"> <span class="icon icon_twitter"></span> </a> </li>
                  <li class="bottom-bar__social__item"> <a href="#" target="_blank"> <span class="icon icon_instagram"></span> </a> </li>
                  <li class="bottom-bar__social__item"> <a href="#" target="_blank"> <span class="icon icon_pinterest"></span> </a> </li>
               </ul>
            </ul>
         </div>
      </div>
      </div>
      <!-- pjax-container --> 
     
      <script type="text/javascript">
         $('.form_datetime').datetimepicker({
             //language:  'fr',
             weekStart: 1,
             todayBtn:  1,
           autoclose: 1,
           todayHighlight: 1,
           startView: 2,
           forceParse: 0,
             showMeridian: 1
         });
         $('.form_date').datetimepicker({
             language:  'fr',
             weekStart: 1,
             todayBtn:  1,
           autoclose: 1,
           todayHighlight: 1,
           startView: 2,
           minView: 2,
           forceParse: 0
         });
         $('.form_time').datetimepicker({
             language:  'fr',
             weekStart: 1,
             todayBtn:  1,
           autoclose: 1,
           todayHighlight: 1,
           startView: 1,
           minView: 0,
           maxView: 1,
           forceParse: 0
         });
      </script>
      <script>
         $( function() {
          $( "#datepicker" ).datepicker();
         } );
      </script>
 
      <script type="text/javascript">
         $(document).ready(function () {
         $(".btn-select").each(function (e) {
           var value = $(this).find("ul li.selected").html();
           if (value != undefined) {
               $(this).find(".btn-select-input").val(value);
               $(this).find(".btn-select-value").html(value);
           }
         });
         });
         
         $(document).on('click', '.btn-select', function (e) {
         e.preventDefault();
         var ul = $(this).find("ul");
         if ($(this).hasClass("active")) {
           if (ul.find("li").is(e.target)) {
               var target = $(e.target);
               target.addClass("selected").siblings().removeClass("selected");
               var value = target.html();
               $(this).find(".btn-select-input").val(value);
               $(this).find(".btn-select-value").html(value);
           }
           
         }
         else {
           $('.btn-select').not(this).each(function () {
               $(this).removeClass("active").find("ul").hide();
           });
           ul.slideDown(300);
           $(this).addClass("active");
         }
         });
      </script>
      <script type="text/javascript">
         /**
         * Bootstrap Multiselect (https://github.com/davidstutz/bootstrap-multiselect)
         *
         * Apache License, Version 2.0:
         * Copyright (c) 2012 - 2015 David Stutz
         *
         * Licensed under the Apache License, Version 2.0 (the "License"); you may not
         * use this file except in compliance with the License. You may obtain a
         * copy of the License at http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
         * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
         * License for the specific language governing permissions and limitations
         * under the License.
         *
         * BSD 3-Clause License:
         * Copyright (c) 2012 - 2015 David Stutz
         * All rights reserved.
         *
         * Redistribution and use in source and binary forms, with or without
         * modification, are permitted provided that the following conditions are met:
         *    - Redistributions of source code must retain the above copyright notice,
         *      this list of conditions and the following disclaimer.
         *    - Redistributions in binary form must reproduce the above copyright notice,
         *      this list of conditions and the following disclaimer in the documentation
         *      and/or other materials provided with the distribution.
         *    - Neither the name of David Stutz nor the names of its contributors may be
         *      used to endorse or promote products derived from this software without
         *      specific prior written permission.
         *
         * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
         * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
         * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
         * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
         * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
         * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
         * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
         * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
         * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
         * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
         * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
         */
         !function ($) {
         "use strict";// jshint ;_;
         
         if (typeof ko !== 'undefined' && ko.bindingHandlers && !ko.bindingHandlers.multiselect) {
           ko.bindingHandlers.multiselect = {
               after: ['options', 'value', 'selectedOptions', 'enable', 'disable'],
         
               init: function(element, valueAccessor, allBindings, viewModel, bindingContext) {
                   var $element = $(element);
                   var config = ko.toJS(valueAccessor());
         
                   $element.multiselect(config);
         
                   if (allBindings.has('options')) {
                       var options = allBindings.get('options');
                       if (ko.isObservable(options)) {
                           ko.computed({
                               read: function() {
                                   options();
                                   setTimeout(function() {
                                       var ms = $element.data('multiselect');
                                       if (ms)
                                           ms.updateOriginalOptions();//Not sure how beneficial this is.
                                       $element.multiselect('rebuild');
                                   }, 1);
                               },
                               disposeWhenNodeIsRemoved: element
                           });
                       }
                   }
         
                   //value and selectedOptions are two-way, so these will be triggered even by our own actions.
                   //It needs some way to tell if they are triggered because of us or because of outside change.
                   //It doesn't loop but it's a waste of processing.
                   if (allBindings.has('value')) {
                       var value = allBindings.get('value');
                       if (ko.isObservable(value)) {
                           ko.computed({
                               read: function() {
                                   value();
                                   setTimeout(function() {
                                       $element.multiselect('refresh');
                                   }, 1);
                               },
                               disposeWhenNodeIsRemoved: element
                           }).extend({ rateLimit: 100, notifyWhenChangesStop: true });
                       }
                   }
         
                   //Switched from arrayChange subscription to general subscription using 'refresh'.
                   //Not sure performance is any better using 'select' and 'deselect'.
                   if (allBindings.has('selectedOptions')) {
                       var selectedOptions = allBindings.get('selectedOptions');
                       if (ko.isObservable(selectedOptions)) {
                           ko.computed({
                               read: function() {
                                   selectedOptions();
                                   setTimeout(function() {
                                       $element.multiselect('refresh');
                                   }, 1);
                               },
                               disposeWhenNodeIsRemoved: element
                           }).extend({ rateLimit: 100, notifyWhenChangesStop: true });
                       }
                   }
         
                   var setEnabled = function (enable) {
                       setTimeout(function () {
                           if (enable)
                               $element.multiselect('enable');
                           else
                               $element.multiselect('disable');
                       });
                   };
         
                   if (allBindings.has('enable')) {
                       var enable = allBindings.get('enable');
                       if (ko.isObservable(enable)) {
                           ko.computed({
                               read: function () {
                                   setEnabled(enable());
                               },
                               disposeWhenNodeIsRemoved: element
                           }).extend({ rateLimit: 100, notifyWhenChangesStop: true });
                       } else {
                           setEnabled(enable);
                       }
                   }
         
                   if (allBindings.has('disable')) {
                       var disable = allBindings.get('disable');
                       if (ko.isObservable(disable)) {
                           ko.computed({
                               read: function () {
                                   setEnabled(!disable());
                               },
                               disposeWhenNodeIsRemoved: element
                           }).extend({ rateLimit: 100, notifyWhenChangesStop: true });
                       } else {
                           setEnabled(!disable);
                       }
                   }
         
                   ko.utils.domNodeDisposal.addDisposeCallback(element, function() {
                       $element.multiselect('destroy');
                   });
               },
         
               update: function(element, valueAccessor, allBindings, viewModel, bindingContext) {
                   var $element = $(element);
                   var config = ko.toJS(valueAccessor());
         
                   $element.multiselect('setOptions', config);
                   $element.multiselect('rebuild');
               }
           };
         }
         
         function forEach(array, callback) {
           for (var index = 0; index < array.length; ++index) {
               callback(array[index], index);
           }
         }
         
         /**
         * Constructor to create a new multiselect using the given select.
         *
         * @param {jQuery} select
         * @param {Object} options
         * @returns {Multiselect}
         */
         function Multiselect(select, options) {
         
           this.$select = $(select);
           this.options = this.mergeOptions($.extend({}, options, this.$select.data()));
         
           // Placeholder via data attributes
           if (this.$select.attr("data-placeholder")) {
               this.options.nonSelectedText = this.$select.data("placeholder");
           }
         
           // Initialization.
           // We have to clone to create a new reference.
           this.originalOptions = this.$select.clone()[0].options;
           this.query = '';
           this.searchTimeout = null;
           this.lastToggledInput = null;
         
           this.options.multiple = this.$select.attr('multiple') === "multiple";
           this.options.onChange = $.proxy(this.options.onChange, this);
           this.options.onSelectAll = $.proxy(this.options.onSelectAll, this);
           this.options.onDeselectAll = $.proxy(this.options.onDeselectAll, this);
           this.options.onDropdownShow = $.proxy(this.options.onDropdownShow, this);
           this.options.onDropdownHide = $.proxy(this.options.onDropdownHide, this);
           this.options.onDropdownShown = $.proxy(this.options.onDropdownShown, this);
           this.options.onDropdownHidden = $.proxy(this.options.onDropdownHidden, this);
           this.options.onInitialized = $.proxy(this.options.onInitialized, this);
           this.options.onFiltering = $.proxy(this.options.onFiltering, this);
         
           // Build select all if enabled.
           this.buildContainer();
           this.buildButton();
           this.buildDropdown();
           this.buildSelectAll();
           this.buildDropdownOptions();
           this.buildFilter();
         
           this.updateButtonText();
           this.updateSelectAll(true);
         
           if (this.options.enableClickableOptGroups && this.options.multiple) {
               this.updateOptGroups();
           }
         
           this.options.wasDisabled = this.$select.prop('disabled');
           if (this.options.disableIfEmpty && $('option', this.$select).length <= 0) {
               this.disable();
           }
         
           this.$select.wrap('<span class="multiselect-native-select" />').after(this.$container);
           this.options.onInitialized(this.$select, this.$container);
         }
         
         Multiselect.prototype = {
         
           defaults: {
               /**
                * Default text function will either print 'None selected' in case no
                * option is selected or a list of the selected options up to a length
                * of 3 selected options.
                *
                * @param {jQuery} options
                * @param {jQuery} select
                * @returns {String}
                */
               buttonText: function(options, select) {
                   if (this.disabledText.length > 0
                           && (select.prop('disabled') || (options.length == 0 && this.disableIfEmpty)))  {
         
                       return this.disabledText;
                   }
                   else if (options.length === 0) {
                       return this.nonSelectedText;
                   }
                   else if (this.allSelectedText
                           && options.length === $('option', $(select)).length
                           && $('option', $(select)).length !== 1
                           && this.multiple) {
         
                       if (this.selectAllNumber) {
                           return this.allSelectedText + ' (' + options.length + ')';
                       }
                       else {
                           return this.allSelectedText;
                       }
                   }
                   else if (options.length > this.numberDisplayed) {
                       return options.length + ' ' + this.nSelectedText;
                   }
                   else {
                       var selected = '';
                       var delimiter = this.delimiterText;
         
                       options.each(function() {
                           var label = ($(this).attr('label') !== undefined) ? $(this).attr('label') : $(this).text();
                           selected += label + delimiter;
                       });
         
                       return selected.substr(0, selected.length - this.delimiterText.length);
                   }
               },
               /**
                * Updates the title of the button similar to the buttonText function.
                *
                * @param {jQuery} options
                * @param {jQuery} select
                * @returns {@exp;selected@call;substr}
                */
               buttonTitle: function(options, select) {
                   if (options.length === 0) {
                       return this.nonSelectedText;
                   }
                   else {
                       var selected = '';
                       var delimiter = this.delimiterText;
         
                       options.each(function () {
                           var label = ($(this).attr('label') !== undefined) ? $(this).attr('label') : $(this).text();
                           selected += label + delimiter;
                       });
                       return selected.substr(0, selected.length - this.delimiterText.length);
                   }
               },
               checkboxName: function(option) {
                   return false; // no checkbox name
               },
               /**
                * Create a label.
                *
                * @param {jQuery} element
                * @returns {String}
                */
               optionLabel: function(element){
                   return $(element).attr('label') || $(element).text();
               },
               /**
                * Create a class.
                *
                * @param {jQuery} element
                * @returns {String}
                */
               optionClass: function(element) {
                   return $(element).attr('class') || '';
               },
               /**
                * Triggered on change of the multiselect.
                *
                * Not triggered when selecting/deselecting options manually.
                *
                * @param {jQuery} option
                * @param {Boolean} checked
                */
               onChange : function(option, checked) {
         
               },
               /**
                * Triggered when the dropdown is shown.
                *
                * @param {jQuery} event
                */
               onDropdownShow: function(event) {
         
               },
               /**
                * Triggered when the dropdown is hidden.
                *
                * @param {jQuery} event
                */
               onDropdownHide: function(event) {
         
               },
               /**
                * Triggered after the dropdown is shown.
                *
                * @param {jQuery} event
                */
               onDropdownShown: function(event) {
         
               },
               /**
                * Triggered after the dropdown is hidden.
                *
                * @param {jQuery} event
                */
               onDropdownHidden: function(event) {
         
               },
               /**
                * Triggered on select all.
                */
               onSelectAll: function() {
         
               },
               /**
                * Triggered on deselect all.
                */
               onDeselectAll: function() {
         
               },
               /**
                * Triggered after initializing.
                *
                * @param {jQuery} $select
                * @param {jQuery} $container
                */
               onInitialized: function($select, $container) {
         
               },
               /**
                * Triggered on filtering.
                *
                * @param {jQuery} $filter
                */
               onFiltering: function($filter) {
         
               },
               enableHTML: false,
               buttonClass: 'btn btn-default',
               inheritClass: false,
               buttonWidth: 'auto',
               buttonContainer: '<div class="" />',
               dropRight: false,
               dropUp: false,
               selectedClass: 'active',
               // Maximum height of the dropdown menu.
               // If maximum height is exceeded a scrollbar will be displayed.
               maxHeight: false,
               includeSelectAllOption: false,
               includeSelectAllIfMoreThan: 0,
               selectAllText: ' Select all',
               selectAllValue: 'multiselect-all',
               selectAllName: false,
               selectAllNumber: true,
               selectAllJustVisible: true,
               enableFiltering: false,
               enableCaseInsensitiveFiltering: false,
               enableFullValueFiltering: false,
               enableClickableOptGroups: false,
               enableCollapsibleOptGroups: false,
               filterPlaceholder: 'Search',
               // possible options: 'text', 'value', 'both'
               filterBehavior: 'text',
               includeFilterClearBtn: true,
               preventInputChangeEvent: false,
               nonSelectedText: 'None selected',
               nSelectedText: 'selected',
               allSelectedText: 'All selected',
               numberDisplayed: 3,
               disableIfEmpty: false,
               disabledText: '',
               delimiterText: ', ',
               templates: {
                   button: '<button type="button" class="multiselect dropdown-toggle btn-block text-left" data-toggle="dropdown"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>',
                   ul: '<ul class="multiselect-container dropdown-menu"></ul>',
                   filter: '<li class="multiselect-item multiselect-filter"><div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span><input class="form-control multiselect-search" type="text"></div></li>',
                   filterClearBtn: '<span class="input-group-btn"><button class="btn btn-default multiselect-clear-filter" type="button"><i class="glyphicon glyphicon-remove-circle"></i></button></span>',
                   li: '<li><a tabindex="0"><label></label></a></li>',
                   divider: '<li class="multiselect-item divider"></li>',
                   liGroup: '<li class="multiselect-item multiselect-group"><label></label></li>'
               }
           },
         
           constructor: Multiselect,
         
           /**
            * Builds the container of the multiselect.
            */
           buildContainer: function() {
               this.$container = $(this.options.buttonContainer);
               this.$container.on('show.bs.dropdown', this.options.onDropdownShow);
               this.$container.on('hide.bs.dropdown', this.options.onDropdownHide);
               this.$container.on('shown.bs.dropdown', this.options.onDropdownShown);
               this.$container.on('hidden.bs.dropdown', this.options.onDropdownHidden);
           },
         
           /**
            * Builds the button of the multiselect.
            */
           buildButton: function() {
               this.$button = $(this.options.templates.button).addClass(this.options.buttonClass);
               if (this.$select.attr('class') && this.options.inheritClass) {
                   this.$button.addClass(this.$select.attr('class'));
               }
               // Adopt active state.
               if (this.$select.prop('disabled')) {
                   this.disable();
               }
               else {
                   this.enable();
               }
         
               // Manually add button width if set.
               if (this.options.buttonWidth && this.options.buttonWidth !== 'auto') {
                   this.$button.css({
                       'width' : '100%', //this.options.buttonWidth,
                       'overflow' : 'hidden',
                       'text-overflow' : 'ellipsis'
                   });
                   this.$container.css({
                       'width': this.options.buttonWidth
                   });
               }
         
               // Keep the tab index from the select.
               var tabindex = this.$select.attr('tabindex');
               if (tabindex) {
                   this.$button.attr('tabindex', tabindex);
               }
         
               this.$container.prepend(this.$button);
           },
         
           /**
            * Builds the ul representing the dropdown menu.
            */
           buildDropdown: function() {
         
               // Build ul.
               this.$ul = $(this.options.templates.ul);
         
               if (this.options.dropRight) {
                   this.$ul.addClass('pull-right');
               }
         
               // Set max height of dropdown menu to activate auto scrollbar.
               if (this.options.maxHeight) {
                   // TODO: Add a class for this option to move the css declarations.
                   this.$ul.css({
                       'max-height': this.options.maxHeight + 'px',
                       'overflow-y': 'auto',
                       'overflow-x': 'hidden'
                   });
               }
         
               if (this.options.dropUp) {
         
                   var height = Math.min(this.options.maxHeight, $('option[data-role!="divider"]', this.$select).length*26 + $('option[data-role="divider"]', this.$select).length*19 + (this.options.includeSelectAllOption ? 26 : 0) + (this.options.enableFiltering || this.options.enableCaseInsensitiveFiltering ? 44 : 0));
                   var moveCalc = height + 34;
         
                   this.$ul.css({
                       'max-height': height + 'px',
                       'overflow-y': 'auto',
                       'overflow-x': 'hidden',
                       'margin-top': "-" + moveCalc + 'px'
                   });
               }
         
               this.$container.append(this.$ul);
           },
         
           /**
            * Build the dropdown options and binds all necessary events.
            *
            * Uses createDivider and createOptionValue to create the necessary options.
            */
           buildDropdownOptions: function() {
         
               this.$select.children().each($.proxy(function(index, element) {
         
                   var $element = $(element);
                   // Support optgroups and options without a group simultaneously.
                   var tag = $element.prop('tagName')
                       .toLowerCase();
         
                   if ($element.prop('value') === this.options.selectAllValue) {
                       return;
                   }
         
                   if (tag === 'optgroup') {
                       this.createOptgroup(element);
                   }
                   else if (tag === 'option') {
         
                       if ($element.data('role') === 'divider') {
                           this.createDivider();
                       }
                       else {
                           this.createOptionValue(element);
                       }
         
                   }
         
                   // Other illegal tags will be ignored.
               }, this));
         
               // Bind the change event on the dropdown elements.
               $('li:not(.multiselect-group) input', this.$ul).on('change', $.proxy(function(event) {
                   var $target = $(event.target);
         
                   var checked = $target.prop('checked') || false;
                   var isSelectAllOption = $target.val() === this.options.selectAllValue;
         
                   // Apply or unapply the configured selected class.
                   if (this.options.selectedClass) {
                       if (checked) {
                           $target.closest('li')
                               .addClass(this.options.selectedClass);
                       }
                       else {
                           $target.closest('li')
                               .removeClass(this.options.selectedClass);
                       }
                   }
         
                   // Get the corresponding option.
                   var value = $target.val();
                   var $option = this.getOptionByValue(value);
         
                   var $optionsNotThis = $('option', this.$select).not($option);
                   var $checkboxesNotThis = $('input', this.$container).not($target);
         
                   if (isSelectAllOption) {
         
                       if (checked) {
                           this.selectAll(this.options.selectAllJustVisible, true);
                       }
                       else {
                           this.deselectAll(this.options.selectAllJustVisible, true);
                       }
                   }
                   else {
                       if (checked) {
                           $option.prop('selected', true);
         
                           if (this.options.multiple) {
                               // Simply select additional option.
                               $option.prop('selected', true);
                           }
                           else {
                               // Unselect all other options and corresponding checkboxes.
                               if (this.options.selectedClass) {
                                   $($checkboxesNotThis).closest('li').removeClass(this.options.selectedClass);
                               }
         
                               $($checkboxesNotThis).prop('checked', false);
                               $optionsNotThis.prop('selected', false);
         
                               // It's a single selection, so close.
                               this.$button.click();
                           }
         
                           if (this.options.selectedClass === "active") {
                               $optionsNotThis.closest("a").css("outline", "");
                           }
                       }
                       else {
                           // Unselect option.
                           $option.prop('selected', false);
                       }
         
                       // To prevent select all from firing onChange: #575
                       this.options.onChange($option, checked);
         
                       // Do not update select all or optgroups on select all change!
                       this.updateSelectAll();
         
                       if (this.options.enableClickableOptGroups && this.options.multiple) {
                           this.updateOptGroups();
                       }
                   }
         
                   this.$select.change();
                   this.updateButtonText();
         
                   if(this.options.preventInputChangeEvent) {
                       return false;
                   }
               }, this));
         
               $('li a', this.$ul).on('mousedown', function(e) {
                   if (e.shiftKey) {
                       // Prevent selecting text by Shift+click
                       return false;
                   }
               });
         
               $('li a', this.$ul).on('touchstart click', $.proxy(function(event) {
                   event.stopPropagation();
         
                   var $target = $(event.target);
         
                   if (event.shiftKey && this.options.multiple) {
                       if($target.is("label")){ // Handles checkbox selection manually (see https://github.com/davidstutz/bootstrap-multiselect/issues/431)
                           event.preventDefault();
                           $target = $target.find("input");
                           $target.prop("checked", !$target.prop("checked"));
                       }
                       var checked = $target.prop('checked') || false;
         
                       if (this.lastToggledInput !== null && this.lastToggledInput !== $target) { // Make sure we actually have a range
                           var from = $target.closest("li").index();
                           var to = this.lastToggledInput.closest("li").index();
         
                           if (from > to) { // Swap the indices
                               var tmp = to;
                               to = from;
                               from = tmp;
                           }
         
                           // Make sure we grab all elements since slice excludes the last index
                           ++to;
         
                           // Change the checkboxes and underlying options
                           var range = this.$ul.find("li").slice(from, to).find("input");
         
                           range.prop('checked', checked);
         
                           if (this.options.selectedClass) {
                               range.closest('li')
                                   .toggleClass(this.options.selectedClass, checked);
                           }
         
                           for (var i = 0, j = range.length; i < j; i++) {
                               var $checkbox = $(range[i]);
         
                               var $option = this.getOptionByValue($checkbox.val());
         
                               $option.prop('selected', checked);
                           }
                       }
         
                       // Trigger the select "change" event
                       $target.trigger("change");
                   }
         
                   // Remembers last clicked option
                   if($target.is("input") && !$target.closest("li").is(".multiselect-item")){
                       this.lastToggledInput = $target;
                   }
         
                   $target.blur();
               }, this));
         
               // Keyboard support.
               this.$container.off('keydown.multiselect').on('keydown.multiselect', $.proxy(function(event) {
                   if ($('input[type="text"]', this.$container).is(':focus')) {
                       return;
                   }
         
                   if (event.keyCode === 9 && this.$container.hasClass('open')) {
                       this.$button.click();
                   }
                   else {
                       var $items = $(this.$container).find("li:not(.divider):not(.disabled) a").filter(":visible");
         
                       if (!$items.length) {
                           return;
                       }
         
                       var index = $items.index($items.filter(':focus'));
         
                       // Navigation up.
                       if (event.keyCode === 38 && index > 0) {
                           index--;
                       }
                       // Navigate down.
                       else if (event.keyCode === 40 && index < $items.length - 1) {
                           index++;
                       }
                       else if (!~index) {
                           index = 0;
                       }
         
                       var $current = $items.eq(index);
                       $current.focus();
         
                       if (event.keyCode === 32 || event.keyCode === 13) {
                           var $checkbox = $current.find('input');
         
                           $checkbox.prop("checked", !$checkbox.prop("checked"));
                           $checkbox.change();
                       }
         
                       event.stopPropagation();
                       event.preventDefault();
                   }
               }, this));
         
               if (this.options.enableClickableOptGroups && this.options.multiple) {
                   $("li.multiselect-group input", this.$ul).on("change", $.proxy(function(event) {
                       event.stopPropagation();
         
                       var $target = $(event.target);
                       var checked = $target.prop('checked') || false;
         
                       var $li = $(event.target).closest('li');
                       var $group = $li.nextUntil("li.multiselect-group")
                           .not('.multiselect-filter-hidden')
                           .not('.disabled');
         
                       var $inputs = $group.find("input");
         
                       var values = [];
                       var $options = [];
         
                       if (this.options.selectedClass) {
                           if (checked) {
                               $li.addClass(this.options.selectedClass);
                           }
                           else {
                               $li.removeClass(this.options.selectedClass);
                           }
                       }
         
                       $.each($inputs, $.proxy(function(index, input) {
                           var value = $(input).val();
                           var $option = this.getOptionByValue(value);
         
                           if (checked) {
                               $(input).prop('checked', true);
                               $(input).closest('li')
                                   .addClass(this.options.selectedClass);
         
                               $option.prop('selected', true);
                           }
                           else {
                               $(input).prop('checked', false);
                               $(input).closest('li')
                                   .removeClass(this.options.selectedClass);
         
                               $option.prop('selected', false);
                           }
         
                           $options.push(this.getOptionByValue(value));
                       }, this))
         
                       // Cannot use select or deselect here because it would call updateOptGroups again.
         
                       this.options.onChange($options, checked);
         
                       this.updateButtonText();
                       this.updateSelectAll();
                   }, this));
               }
         
               if (this.options.enableCollapsibleOptGroups && this.options.multiple) {
                   $("li.multiselect-group .caret-container", this.$ul).on("click", $.proxy(function(event) {
                       var $li = $(event.target).closest('li');
                       var $inputs = $li.nextUntil("li.multiselect-group")
                               .not('.multiselect-filter-hidden');
         
                       var visible = true;
                       $inputs.each(function() {
                           visible = visible && $(this).is(':visible');
                       });
         
                       if (visible) {
                           $inputs.hide()
                               .addClass('multiselect-collapsible-hidden');
                       }
                       else {
                           $inputs.show()
                               .removeClass('multiselect-collapsible-hidden');
                       }
                   }, this));
         
                   $("li.multiselect-all", this.$ul).css('background', '#f3f3f3').css('border-bottom', '1px solid #eaeaea');
                   $("li.multiselect-all > a > label.checkbox", this.$ul).css('padding', '3px 20px 3px 35px');
                   $("li.multiselect-group > a > input", this.$ul).css('margin', '4px 0px 5px -20px');
               }
           },
         
           /**
            * Create an option using the given select option.
            *
            * @param {jQuery} element
            */
           createOptionValue: function(element) {
               var $element = $(element);
               if ($element.is(':selected')) {
                   $element.prop('selected', true);
               }
         
               // Support the label attribute on options.
               var label = this.options.optionLabel(element);
               var classes = this.options.optionClass(element);
               var value = $element.val();
               var inputType = this.options.multiple ? "checkbox" : "radio";
         
               var $li = $(this.options.templates.li);
               var $label = $('label', $li);
               $label.addClass(inputType);
               $li.addClass(classes);
         
               if (this.options.enableHTML) {
                   $label.html(" " + label);
               }
               else {
                   $label.text(" " + label);
               }
         
               var $checkbox = $('<input/>').attr('type', inputType);
         
               var name = this.options.checkboxName($element);
               if (name) {
                   $checkbox.attr('name', name);
               }
         
               $label.prepend($checkbox);
         
               var selected = $element.prop('selected') || false;
               $checkbox.val(value);
         
               if (value === this.options.selectAllValue) {
                   $li.addClass("multiselect-item multiselect-all");
                   $checkbox.parent().parent()
                       .addClass('multiselect-all');
               }
         
               $label.attr('title', $element.attr('title'));
         
               this.$ul.append($li);
         
               if ($element.is(':disabled')) {
                   $checkbox.attr('disabled', 'disabled')
                       .prop('disabled', true)
                       .closest('a')
                       .attr("tabindex", "-1")
                       .closest('li')
                       .addClass('disabled');
               }
         
               $checkbox.prop('checked', selected);
         
               if (selected && this.options.selectedClass) {
                   $checkbox.closest('li')
                       .addClass(this.options.selectedClass);
               }
           },
         
           /**
            * Creates a divider using the given select option.
            *
            * @param {jQuery} element
            */
           createDivider: function(element) {
               var $divider = $(this.options.templates.divider);
               this.$ul.append($divider);
           },
         
           /**
            * Creates an optgroup.
            *
            * @param {jQuery} group
            */
           createOptgroup: function(group) {
               var label = $(group).attr("label");
               var value = $(group).attr("value");
               var $li = $('<li class="multiselect-item multiselect-group"><a href="javascript:void(0);"><label><b></b></label></a></li>');
         
               var classes = this.options.optionClass(group);
               $li.addClass(classes);
         
               if (this.options.enableHTML) {
                   $('label b', $li).html(" " + label);
               }
               else {
                   $('label b', $li).text(" " + label);
               }
         
               if (this.options.enableCollapsibleOptGroups && this.options.multiple) {
                   $('a', $li).append('<span class="caret-container"><b class="caret"></b></span>');
               }
         
               if (this.options.enableClickableOptGroups && this.options.multiple) {
                   $('a label', $li).prepend('<input type="checkbox" value="' + value + '"/>');
               }
         
               if ($(group).is(':disabled')) {
                   $li.addClass('disabled');
               }
         
               this.$ul.append($li);
         
               $("option", group).each($.proxy(function($, group) {
                   this.createOptionValue(group);
               }, this))
           },
         
           /**
            * Build the select all.
            *
            * Checks if a select all has already been created.
            */
           buildSelectAll: function() {
               if (typeof this.options.selectAllValue === 'number') {
                   this.options.selectAllValue = this.options.selectAllValue.toString();
               }
         
               var alreadyHasSelectAll = this.hasSelectAll();
         
               if (!alreadyHasSelectAll && this.options.includeSelectAllOption && this.options.multiple
                       && $('option', this.$select).length > this.options.includeSelectAllIfMoreThan) {
         
                   // Check whether to add a divider after the select all.
                   if (this.options.includeSelectAllDivider) {
                       this.$ul.prepend($(this.options.templates.divider));
                   }
         
                   var $li = $(this.options.templates.li);
                   $('label', $li).addClass("checkbox");
         
                   if (this.options.enableHTML) {
                       $('label', $li).html(" " + this.options.selectAllText);
                   }
                   else {
                       $('label', $li).text(" " + this.options.selectAllText);
                   }
         
                   if (this.options.selectAllName) {
                       $('label', $li).prepend('<input type="checkbox" name="' + this.options.selectAllName + '" />');
                   }
                   else {
                       $('label', $li).prepend('<input type="checkbox" />');
                   }
         
                   var $checkbox = $('input', $li);
                   $checkbox.val(this.options.selectAllValue);
         
                   $li.addClass("multiselect-item multiselect-all");
                   $checkbox.parent().parent()
                       .addClass('multiselect-all');
         
                   this.$ul.prepend($li);
         
                   $checkbox.prop('checked', false);
               }
           },
         
           /**
            * Builds the filter.
            */
           buildFilter: function() {
         
               // Build filter if filtering OR case insensitive filtering is enabled and the number of options exceeds (or equals) enableFilterLength.
               if (this.options.enableFiltering || this.options.enableCaseInsensitiveFiltering) {
                   var enableFilterLength = Math.max(this.options.enableFiltering, this.options.enableCaseInsensitiveFiltering);
         
                   if (this.$select.find('option').length >= enableFilterLength) {
         
                       this.$filter = $(this.options.templates.filter);
                       $('input', this.$filter).attr('placeholder', this.options.filterPlaceholder);
         
                       // Adds optional filter clear button
                       if(this.options.includeFilterClearBtn) {
                           var clearBtn = $(this.options.templates.filterClearBtn);
                           clearBtn.on('click', $.proxy(function(event){
                               clearTimeout(this.searchTimeout);
         
                               this.$filter.find('.multiselect-search').val('');
                               $('li', this.$ul).show().removeClass('multiselect-filter-hidden');
         
                               this.updateSelectAll();
         
                               if (this.options.enableClickableOptGroups && this.options.multiple) {
                                   this.updateOptGroups();
                               }
         
                           }, this));
                           this.$filter.find('.input-group').append(clearBtn);
                       }
         
                       this.$ul.prepend(this.$filter);
         
                       this.$filter.val(this.query).on('click', function(event) {
                           event.stopPropagation();
                       }).on('input keydown', $.proxy(function(event) {
                           // Cancel enter key default behaviour
                           if (event.which === 13) {
                             event.preventDefault();
                         }
         
                           // This is useful to catch "keydown" events after the browser has updated the control.
                           clearTimeout(this.searchTimeout);
         
                           this.searchTimeout = this.asyncFunction($.proxy(function() {
         
                               if (this.query !== event.target.value) {
                                   this.query = event.target.value;
         
                                   var currentGroup, currentGroupVisible;
                                   $.each($('li', this.$ul), $.proxy(function(index, element) {
                                       var value = $('input', element).length > 0 ? $('input', element).val() : "";
                                       var text = $('label', element).text();
         
                                       var filterCandidate = '';
                                       if ((this.options.filterBehavior === 'text')) {
                                           filterCandidate = text;
                                       }
                                       else if ((this.options.filterBehavior === 'value')) {
                                           filterCandidate = value;
                                       }
                                       else if (this.options.filterBehavior === 'both') {
                                           filterCandidate = text + '\n' + value;
                                       }
         
                                       if (value !== this.options.selectAllValue && text) {
         
                                           // By default lets assume that element is not
                                           // interesting for this search.
                                           var showElement = false;
         
                                           if (this.options.enableCaseInsensitiveFiltering) {
                                               filterCandidate = filterCandidate.toLowerCase();
                                               this.query = this.query.toLowerCase();
                                           }
         
                                           if (this.options.enableFullValueFiltering && this.options.filterBehavior !== 'both') {
                                               var valueToMatch = filterCandidate.trim().substring(0, this.query.length);
                                               if (this.query.indexOf(valueToMatch) > -1) {
                                                   showElement = true;
                                               }
                                           }
                                           else if (filterCandidate.indexOf(this.query) > -1) {
                                               showElement = true;
                                           }
         
                                           // Toggle current element (group or group item) according to showElement boolean.
                                           $(element).toggle(showElement)
                                               .toggleClass('multiselect-filter-hidden', !showElement);
         
                                           // Differentiate groups and group items.
                                           if ($(element).hasClass('multiselect-group')) {
                                               // Remember group status.
                                               currentGroup = element;
                                               currentGroupVisible = showElement;
                                           }
                                           else {
                                               // Show group name when at least one of its items is visible.
                                               if (showElement) {
                                                   $(currentGroup).show()
                                                       .removeClass('multiselect-filter-hidden');
                                               }
         
                                               // Show all group items when group name satisfies filter.
                                               if (!showElement && currentGroupVisible) {
                                                   $(element).show()
                                                       .removeClass('multiselect-filter-hidden');
                                               }
                                           }
                                       }
                                   }, this));
                               }
         
                               this.updateSelectAll();
         
                               if (this.options.enableClickableOptGroups && this.options.multiple) {
                                   this.updateOptGroups();
                               }
         
                               this.options.onFiltering(event.target);
         
                           }, this), 300, this);
                       }, this));
                   }
               }
           },
         
           /**
            * Unbinds the whole plugin.
            */
           destroy: function() {
               this.$container.remove();
               this.$select.show();
         
               // reset original state
               this.$select.prop('disabled', this.options.wasDisabled);
         
               this.$select.data('multiselect', null);
           },
         
           /**
            * Refreshs the multiselect based on the selected options of the select.
            */
           refresh: function () {
               var inputs = $.map($('li input', this.$ul), $);
         
               $('option', this.$select).each($.proxy(function (index, element) {
                   var $elem = $(element);
                   var value = $elem.val();
                   var $input;
                   for (var i = inputs.length; 0 < i--; /**/) {
                       if (value !== ($input = inputs[i]).val())
                           continue; // wrong li
         
                       if ($elem.is(':selected')) {
                           $input.prop('checked', true);
         
                           if (this.options.selectedClass) {
                               $input.closest('li')
                                   .addClass(this.options.selectedClass);
                           }
                       }
                       else {
                           $input.prop('checked', false);
         
                           if (this.options.selectedClass) {
                               $input.closest('li')
                                   .removeClass(this.options.selectedClass);
                           }
                       }
         
                       if ($elem.is(":disabled")) {
                           $input.attr('disabled', 'disabled')
                               .prop('disabled', true)
                               .closest('li')
                               .addClass('disabled');
                       }
                       else {
                           $input.prop('disabled', false)
                               .closest('li')
                               .removeClass('disabled');
                       }
                       break; // assumes unique values
                   }
               }, this));
         
               this.updateButtonText();
               this.updateSelectAll();
         
               if (this.options.enableClickableOptGroups && this.options.multiple) {
                   this.updateOptGroups();
               }
           },
         
           /**
            * Select all options of the given values.
            *
            * If triggerOnChange is set to true, the on change event is triggered if
            * and only if one value is passed.
            *
            * @param {Array} selectValues
            * @param {Boolean} triggerOnChange
            */
           select: function(selectValues, triggerOnChange) {
               if(!$.isArray(selectValues)) {
                   selectValues = [selectValues];
               }
         
               for (var i = 0; i < selectValues.length; i++) {
                   var value = selectValues[i];
         
                   if (value === null || value === undefined) {
                       continue;
                   }
         
                   var $option = this.getOptionByValue(value);
                   var $checkbox = this.getInputByValue(value);
         
                   if($option === undefined || $checkbox === undefined) {
                       continue;
                   }
         
                   if (!this.options.multiple) {
                       this.deselectAll(false);
                   }
         
                   if (this.options.selectedClass) {
                       $checkbox.closest('li')
                           .addClass(this.options.selectedClass);
                   }
         
                   $checkbox.prop('checked', true);
                   $option.prop('selected', true);
         
                   if (triggerOnChange) {
                       this.options.onChange($option, true);
                   }
               }
         
               this.updateButtonText();
               this.updateSelectAll();
         
               if (this.options.enableClickableOptGroups && this.options.multiple) {
                   this.updateOptGroups();
               }
           },
         
           /**
            * Clears all selected items.
            */
           clearSelection: function () {
               this.deselectAll(false);
               this.updateButtonText();
               this.updateSelectAll();
         
               if (this.options.enableClickableOptGroups && this.options.multiple) {
                   this.updateOptGroups();
               }
           },
         
           /**
            * Deselects all options of the given values.
            *
            * If triggerOnChange is set to true, the on change event is triggered, if
            * and only if one value is passed.
            *
            * @param {Array} deselectValues
            * @param {Boolean} triggerOnChange
            */
           deselect: function(deselectValues, triggerOnChange) {
               if(!$.isArray(deselectValues)) {
                   deselectValues = [deselectValues];
               }
         
               for (var i = 0; i < deselectValues.length; i++) {
                   var value = deselectValues[i];
         
                   if (value === null || value === undefined) {
                       continue;
                   }
         
                   var $option = this.getOptionByValue(value);
                   var $checkbox = this.getInputByValue(value);
         
                   if($option === undefined || $checkbox === undefined) {
                       continue;
                   }
         
                   if (this.options.selectedClass) {
                       $checkbox.closest('li')
                           .removeClass(this.options.selectedClass);
                   }
         
                   $checkbox.prop('checked', false);
                   $option.prop('selected', false);
         
                   if (triggerOnChange) {
                       this.options.onChange($option, false);
                   }
               }
         
               this.updateButtonText();
               this.updateSelectAll();
         
               if (this.options.enableClickableOptGroups && this.options.multiple) {
                   this.updateOptGroups();
               }
           },
         
           /**
            * Selects all enabled & visible options.
            *
            * If justVisible is true or not specified, only visible options are selected.
            *
            * @param {Boolean} justVisible
            * @param {Boolean} triggerOnSelectAll
            */
           selectAll: function (justVisible, triggerOnSelectAll) {
         
               var justVisible = typeof justVisible === 'undefined' ? true : justVisible;
               var allLis = $("li:not(.divider):not(.disabled):not(.multiselect-group)", this.$ul);
               var visibleLis = $("li:not(.divider):not(.disabled):not(.multiselect-group):not(.multiselect-filter-hidden):not(.multiselect-collapisble-hidden)", this.$ul).filter(':visible');
         
               if(justVisible) {
                   $('input:enabled' , visibleLis).prop('checked', true);
                   visibleLis.addClass(this.options.selectedClass);
         
                   $('input:enabled' , visibleLis).each($.proxy(function(index, element) {
                       var value = $(element).val();
                       var option = this.getOptionByValue(value);
                       $(option).prop('selected', true);
                   }, this));
               }
               else {
                   $('input:enabled' , allLis).prop('checked', true);
                   allLis.addClass(this.options.selectedClass);
         
                   $('input:enabled' , allLis).each($.proxy(function(index, element) {
                       var value = $(element).val();
                       var option = this.getOptionByValue(value);
                       $(option).prop('selected', true);
                   }, this));
               }
         
               $('li input[value="' + this.options.selectAllValue + '"]', this.$ul).prop('checked', true);
         
               if (this.options.enableClickableOptGroups && this.options.multiple) {
                   this.updateOptGroups();
               }
         
               if (triggerOnSelectAll) {
                   this.options.onSelectAll();
               }
           },
         
           /**
            * Deselects all options.
            *
            * If justVisible is true or not specified, only visible options are deselected.
            *
            * @param {Boolean} justVisible
            */
           deselectAll: function (justVisible, triggerOnDeselectAll) {
         
               var justVisible = typeof justVisible === 'undefined' ? true : justVisible;
               var allLis = $("li:not(.divider):not(.disabled):not(.multiselect-group)", this.$ul);
               var visibleLis = $("li:not(.divider):not(.disabled):not(.multiselect-group):not(.multiselect-filter-hidden):not(.multiselect-collapisble-hidden)", this.$ul).filter(':visible');
         
               if(justVisible) {
                   $('input[type="checkbox"]:enabled' , visibleLis).prop('checked', false);
                   visibleLis.removeClass(this.options.selectedClass);
         
                   $('input[type="checkbox"]:enabled' , visibleLis).each($.proxy(function(index, element) {
                       var value = $(element).val();
                       var option = this.getOptionByValue(value);
                       $(option).prop('selected', false);
                   }, this));
               }
               else {
                   $('input[type="checkbox"]:enabled' , allLis).prop('checked', false);
                   allLis.removeClass(this.options.selectedClass);
         
                   $('input[type="checkbox"]:enabled' , allLis).each($.proxy(function(index, element) {
                       var value = $(element).val();
                       var option = this.getOptionByValue(value);
                       $(option).prop('selected', false);
                   }, this));
               }
         
               $('li input[value="' + this.options.selectAllValue + '"]', this.$ul).prop('checked', false);
         
               if (this.options.enableClickableOptGroups && this.options.multiple) {
                   this.updateOptGroups();
               }
         
               if (triggerOnDeselectAll) {
                   this.options.onDeselectAll();
               }
           },
         
           /**
            * Rebuild the plugin.
            *
            * Rebuilds the dropdown, the filter and the select all option.
            */
           rebuild: function() {
               this.$ul.html('');
         
               // Important to distinguish between radios and checkboxes.
               this.options.multiple = this.$select.attr('multiple') === "multiple";
         
               this.buildSelectAll();
               this.buildDropdownOptions();
               this.buildFilter();
         
               this.updateButtonText();
               this.updateSelectAll(true);
         
               if (this.options.enableClickableOptGroups && this.options.multiple) {
                   this.updateOptGroups();
               }
         
               if (this.options.disableIfEmpty && $('option', this.$select).length <= 0) {
                   this.disable();
               }
               else {
                   this.enable();
               }
         
               if (this.options.dropRight) {
                   this.$ul.addClass('pull-right');
               }
           },
         
           /**
            * The provided data will be used to build the dropdown.
            */
           dataprovider: function(dataprovider) {
         
               var groupCounter = 0;
               var $select = this.$select.empty();
         
               $.each(dataprovider, function (index, option) {
                   var $tag;
         
                   if ($.isArray(option.children)) { // create optiongroup tag
                       groupCounter++;
         
                       $tag = $('<optgroup/>').attr({
                           label: option.label || 'Group ' + groupCounter,
                           disabled: !!option.disabled
                       });
         
                       forEach(option.children, function(subOption) { // add children option tags
                           var attributes = {
                               value: subOption.value,
                               label: subOption.label || subOption.value,
                               title: subOption.title,
                               selected: !!subOption.selected,
                               disabled: !!subOption.disabled
                           };
         
                           //Loop through attributes object and add key-value for each attribute
                          for (var key in subOption.attributes) {
                               attributes['data-' + key] = subOption.attributes[key];
                          }
                            //Append original attributes + new data attributes to option
                           $tag.append($('<option/>').attr(attributes));
                       });
                   }
                   else {
         
                       var attributes = {
                           'value': option.value,
                           'label': option.label || option.value,
                           'title': option.title,
                           'class': option.class,
                           'selected': !!option.selected,
                           'disabled': !!option.disabled
                       };
                       //Loop through attributes object and add key-value for each attribute
                       for (var key in option.attributes) {
                         attributes['data-' + key] = option.attributes[key];
                       }
                       //Append original attributes + new data attributes to option
                       $tag = $('<option/>').attr(attributes);
         
                       $tag.text(option.label || option.value);
                   }
         
                   $select.append($tag);
               });
         
               this.rebuild();
           },
         
           /**
            * Enable the multiselect.
            */
           enable: function() {
               this.$select.prop('disabled', false);
               this.$button.prop('disabled', false)
                   .removeClass('disabled');
           },
         
           /**
            * Disable the multiselect.
            */
           disable: function() {
               this.$select.prop('disabled', true);
               this.$button.prop('disabled', true)
                   .addClass('disabled');
           },
         
           /**
            * Set the options.
            *
            * @param {Array} options
            */
           setOptions: function(options) {
               this.options = this.mergeOptions(options);
           },
         
           /**
            * Merges the given options with the default options.
            *
            * @param {Array} options
            * @returns {Array}
            */
           mergeOptions: function(options) {
               return $.extend(true, {}, this.defaults, this.options, options);
           },
         
           /**
            * Checks whether a select all checkbox is present.
            *
            * @returns {Boolean}
            */
           hasSelectAll: function() {
               return $('li.multiselect-all', this.$ul).length > 0;
           },
         
           /**
            * Update opt groups.
            */
           updateOptGroups: function() {
               var $groups = $('li.multiselect-group', this.$ul)
               var selectedClass = this.options.selectedClass;
         
               $groups.each(function() {
                   var $options = $(this).nextUntil('li.multiselect-group')
                       .not('.multiselect-filter-hidden')
                       .not('.disabled');
         
                   var checked = true;
                   $options.each(function() {
                       var $input = $('input', this);
         
                       if (!$input.prop('checked')) {
                           checked = false;
                       }
                   });
         
                   if (selectedClass) {
                       if (checked) {
                           $(this).addClass(selectedClass);
                       }
                       else {
                           $(this).removeClass(selectedClass);
                       }
                   }
         
                   $('input', this).prop('checked', checked);
               });
           },
         
           /**
            * Updates the select all checkbox based on the currently displayed and selected checkboxes.
            */
           updateSelectAll: function(notTriggerOnSelectAll) {
               if (this.hasSelectAll()) {
                   var allBoxes = $("li:not(.multiselect-item):not(.multiselect-filter-hidden):not(.multiselect-group):not(.disabled) input:enabled", this.$ul);
                   var allBoxesLength = allBoxes.length;
                   var checkedBoxesLength = allBoxes.filter(":checked").length;
                   var selectAllLi  = $("li.multiselect-all", this.$ul);
                   var selectAllInput = selectAllLi.find("input");
         
                   if (checkedBoxesLength > 0 && checkedBoxesLength === allBoxesLength) {
                       selectAllInput.prop("checked", true);
                       selectAllLi.addClass(this.options.selectedClass);
                   }
                   else {
                       selectAllInput.prop("checked", false);
                       selectAllLi.removeClass(this.options.selectedClass);
                   }
               }
           },
         
           /**
            * Update the button text and its title based on the currently selected options.
            */
           updateButtonText: function() {
               var options = this.getSelected();
         
               // First update the displayed button text.
               if (this.options.enableHTML) {
                   $('.multiselect .multiselect-selected-text', this.$container).html(this.options.buttonText(options, this.$select));
               }
               else {
                   $('.multiselect .multiselect-selected-text', this.$container).text(this.options.buttonText(options, this.$select));
               }
         
               // Now update the title attribute of the button.
               $('.multiselect', this.$container).attr('title', this.options.buttonTitle(options, this.$select));
           },
         
           /**
            * Get all selected options.
            *
            * @returns {jQUery}
            */
           getSelected: function() {
               return $('option', this.$select).filter(":selected");
           },
         
           /**
            * Gets a select option by its value.
            *
            * @param {String} value
            * @returns {jQuery}
            */
           getOptionByValue: function (value) {
         
               var options = $('option', this.$select);
               var valueToCompare = value.toString();
         
               for (var i = 0; i < options.length; i = i + 1) {
                   var option = options[i];
                   if (option.value === valueToCompare) {
                       return $(option);
                   }
               }
           },
         
           /**
            * Get the input (radio/checkbox) by its value.
            *
            * @param {String} value
            * @returns {jQuery}
            */
           getInputByValue: function (value) {
         
               var checkboxes = $('li input:not(.multiselect-search)', this.$ul);
               var valueToCompare = value.toString();
         
               for (var i = 0; i < checkboxes.length; i = i + 1) {
                   var checkbox = checkboxes[i];
                   if (checkbox.value === valueToCompare) {
                       return $(checkbox);
                   }
               }
           },
         
           /**
            * Used for knockout integration.
            */
           updateOriginalOptions: function() {
               this.originalOptions = this.$select.clone()[0].options;
           },
         
           asyncFunction: function(callback, timeout, self) {
               var args = Array.prototype.slice.call(arguments, 3);
               return setTimeout(function() {
                   callback.apply(self || window, args);
               }, timeout);
           },
         
           setAllSelectedText: function(allSelectedText) {
               this.options.allSelectedText = allSelectedText;
               this.updateButtonText();
           }
         };
         
         $.fn.multiselect = function(option, parameter, extraOptions) {
           return this.each(function() {
               var data = $(this).data('multiselect');
               var options = typeof option === 'object' && option;
         
               // Initialize the multiselect.
               if (!data) {
                   data = new Multiselect(this, options);
                   $(this).data('multiselect', data);
               }
         
               // Call multiselect method.
               if (typeof option === 'string') {
                   data[option](parameter, extraOptions);
         
                   if (option === 'destroy') {
                       $(this).data('multiselect', false);
                   }
               }
           });
         };
         
         $.fn.multiselect.Constructor = Multiselect;
         
         $(function() {
           $("select[data-role=multiselect]").multiselect();
         });
         
         }(window.jQuery);
      </script>
      <script type="text/javascript">
         $(function() {
             $('.multiselect-ui').multiselect({
                 includeSelectAllOption: true
             });
         });
      </script>
      <script type="text/javascript">
         $('.form_datetime').datetimepicker({
             //language:  'fr',
             weekStart: 1,
             todayBtn:  1,
           autoclose: 1,
           todayHighlight: 1,
           startView: 2,
           forceParse: 0,
             showMeridian: 1
         });
         $('.form_date').datetimepicker({
             language:  'fr',
             weekStart: 1,
             todayBtn:  1,
           autoclose: 1,
           todayHighlight: 1,
           startView: 2,
           minView: 2,
           forceParse: 0
         });
         $('.form_time').datetimepicker({
             language:  'fr',
             weekStart: 1,
             todayBtn:  1,
           autoclose: 1,
           todayHighlight: 1,
           startView: 1,
           minView: 0,
           maxView: 1,
           forceParse: 0
         });
      </script>
   

   <script>

   $('.invite_sent').click(function(event) {
      var base_url = "<?php echo base_url();?>";
      var invite_sent = $(this).val();
      var invite_id = $(this).attr('invite');
        $.ajax({
          type:"POST",
          url:base_url+"home/planning/update_guest",
          dataType:"json",
          data:{invite_sent:invite_sent,guest_id:invite_id},
          success:function (data) {

          }  
        });
   });  

      $('.thanks_sent').click(function(event) {
      var base_url = "<?php echo base_url();?>";
      var thanks_sent = $(this).val();
      var thanks_id = $(this).attr('thanks');
        $.ajax({
          type:"POST",
          url:base_url+"home/planning/update_guest",
          dataType:"json",
          data:{thanks_sent:thanks_sent,guest_id:thanks_id},
          success:function (data) {

          }  
        });
   });  


 $('select[name="rsvp1"]').change(function(){
      var rsvp = $(this).val();
      var guest_id = $('option:selected', this).attr('rsvp-custom');
       var base_url = "<?php echo base_url();?>";
      $.ajax({
              type: 'POST',
              url: base_url+"home/planning/update_guest",
              dataType: 'json',
              data:{rsvp:rsvp,guest_id:guest_id},
            success:function (data) {

          }       
       });
  });


  $('input[name="note"]').change(function(){
      var note = $(this).val();

      var guest_id = $(this).attr('note-custom');
      var base_url = "<?php echo base_url();?>";

      $.ajax({
              type: 'POST',
              url: base_url+"home/planning/update_guest",
              dataType: 'json',
              data:{note:note,guest_id:guest_id},
            success:function (data) {

          }       
       });
  });



$(document).on('click', 'a', function () {

   var base_url = "<?php echo base_url();?>";
   var id = (this.id);
    $("#first_name").val('');
    $("#last_name").val('');
    $("#role").val('');
    $("#phone").val('');
    $("#email").val('');
    $("#address").val('');

      $.ajax({
          type:"POST",
          url:base_url+"home/planning/check_guestExist",
          dataType:"json",
          data:{guest_id:id},
          success:function (msg) {
            $("#first_name").val(msg.first_name);
            $("#last_name").val(msg.last_name);
            $("#role").val(msg.role);
            $("#phone").val(msg.phone);
            $("#email").val(msg.email);
            $("#address").val(msg.address);
          }  
        });

   $('#add_guest_submit').submit(function(event) {

      var first_name = $("#first_name").val();
      var last_name = $("#last_name").val();
      var role = $("#role").val();
      var phone = $("#phone").val();
      var email = $("#email").val();
      var address = $("#address").val();

        $.ajax({
          type:"POST",
          url:base_url+"home/planning/add_guest",
          dataType:"json",
          data:{first_name:first_name,guest_id:id,last_name:last_name,role:role,phone:phone,email:email,address:address},
          success:function (data) {

          }  
        });
        event.preventDefault();
   });  

});


   </script>

   </body>
</html>